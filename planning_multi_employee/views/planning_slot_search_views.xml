<record id="view_planning_slot_search_multi_employee" model="ir.ui.view">
    <field name="name">planning.slot.search.multi.employee</field>
    <field name="model">planning.slot</field>
    <field name="inherit_id" ref="planning.view_planning_slot_filter"/>
    <field name="arch" type="xml">

        <!-- Supprimer tous les usages possibles de employee_skill_ids -->
        <xpath expr="//filter[contains(@domain, 'employee_skill_ids')]" position="remove"/>
        <xpath expr="//filter[contains(@context, 'employee_skill_ids')]" position="remove"/>
        <xpath expr="//field[@name='employee_skill_ids']" position="remove"/>
        <xpath expr="//filter[@name='employee_skill_ids']" position="remove"/>

        <!-- Supprimer l'ancien filtre mono-employé -->
        <xpath expr="//filter[@name='resource_id']" position="remove"/>

        <!-- Ajouter le champ de recherche multi-employee -->
        <xpath expr="//search" position="inside">
            <field name="multi_employee_ids"
                   string="Employés"
                   widget="many2many_tags"
                   options="{'no_create_edit': True}"
                   placeholder="Rechercher un ou plusieurs employés"/>
        </xpath>

    </field>
</record>
